/*lab_1*/

#define MAX 2147483646

#include <stdio.h>

int main(void)
{
	int n = 0;
	float f = 0;
	float p = 1.0;
	char term1, term2, zn;
	
	printf("Enter a positive integer n: ");
	while (1)
	{
		rewind(stdin);
		if (scanf_s("%d%c", &n, &term1) != 2 || term1 != '\n' || n <= 0 || n > MAX)
		{
			printf("Sorry, enter a positive integer number.\n");
		}
		else
		{
			break;
		}
	}

	printf("Enter fractional f: ");
	while (1)
	{
		check:
		rewind(stdin);
		if (scanf_s("%f%c", &f, &term2) != 2 || term2 != '\n' || f > MAX || ((2 * f + n) == 0))
		{
			printf("Sorry, enter a fractional number.\n");
		}
		else
		{
			break;
		}
	}
	printf("%s%d%c", "\nYou entered:\nn=", n, '\n');
	printf("%s%f%c", "f=", f, '\n');
   
	for (int i = 1; i <= n; i++)
	{
		float denom = 0;
		for (int j = 0; j <= i; j++)
		{
			denom += f + j;
		}
		if (denom == 0)
		{
			printf("Sorry, the denominator is 0, enter f again\nf=");
			goto check;
		}
		p = p * (1 / denom);
	}
	printf("%s%f%c", "\nResult:\np=", p, '\n');
    return 0;
}
